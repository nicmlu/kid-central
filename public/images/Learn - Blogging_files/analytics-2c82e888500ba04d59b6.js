webpackJsonp(["analytics"],{"./app/javascript/lib/analytics/analytics.js":function(i,t,e){"use strict";!function(){var i=window.analytics=window.analytics||[];if(!i.initialize)if(i.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{i.invoked=!0,i.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"],i.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),i.push(e),i}};for(var t=0;t<i.methods.length;t++){var e=i.methods[t];i[e]=i.factory(e)}i.load=function(i){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+i+"/analytics.min.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},i.SNIPPET_VERSION="3.1.0",i.load(window.SEGMENT_TOKEN||"OGJz2EkedyvQpLC3rDSR1lwfwOt6uIl3")}}()},"./app/javascript/lib/analytics/tracking.js":function(i,t,e){"use strict";var n=e("../../shared/node_modules/js-cookie/src/js.cookie.js"),o={debug:JSON.parse(localStorage.debugAnalytics||"false"),log:function(i,t){},init:function(i){this.setHubspotQueue(),this.loadCookie(),this.alias(i||this.uuid),this.identify(i||this.uuid),this.page(),this.events()},setHubspotQueue:function(){window._hsq=window._hsq||[]},loadCookie:function(){this.cookie=n.getJSON("analytics")||{},this.removeCookie();var i=this.cookie.events,t=this.cookie.identify;if(i&&i.forEach(function(i){for(var t in i)i.hasOwnProperty(t)&&(i[t]=i[t].replace(/\+/g," "))}),t)for(var e in t)t.hasOwnProperty(e)&&t[e]&&-1===e.indexOf("email")&&(t[e]=t[e].replace(/\+/g," "))},removeCookie:function(){this.log("Deleting Cookie",this.cookie),n.remove("analytics")},page:function(){this.log("Page View "+(document.title||document.location.pathname));var i={integrations:{}};gon.disable_intercom&&(i.integrations.Intercom=!1),analytics.page({},i)},events:function(){if(this.cookie&&this.cookie.events){var i=this;this.cookie.events.forEach(function(t){i.log("Tracked "+t.event_name,t),analytics.track(t.event_name,t,i.cookie.opts),i._hsTrack(t)})}},identify:function(i){gon.current_user||gon.current_user_id?this.cookie&&this.cookie.identify?i&&""!=i?(this.log("Identified "+i,this.cookie.identify,this.cookie.opts),analytics.identify(i,this.cookie.identify,this.cookie.opts),this._hsIdentify()):(this.log("Identified:",this.cookie.identify,this.cookie.opts),analytics.identify(this.cookie.identify,this.cookie.opts),this._hsIdentify()):i?(this.log("Identified "+i),analytics.identify(i,{},{integrations:{Intercom:!1}})):(this.log("Identified"),analytics.identify({integrations:{Intercom:!1}})):this._hasIdentifyTrait("email")&&this._hsIdentify()},alias:function(i){this.cookie&&this.cookie.alias&&(this.log("Aliasing:",i),analytics.alias(i))},_hsTrack:function(i){window._hsq.push(["trackEvent",i.event_name])},_hsIdentify:function(){var i=this.cookie.identify||{};window._hsq.push(["identify",i])},_hasIdentifyTrait:function(i){return this.cookie&&this.cookie.identify&&this.cookie.identify[i]}};i.exports=o},"./app/javascript/packs/analytics.js":function(i,t,e){"use strict";window.SEGMENT_TOKEN=gon.analytics_config.segment_token,e("./app/javascript/lib/analytics/analytics.js"),window.tracking=e("./app/javascript/lib/analytics/tracking.js"),window.intercomSettings={hide_default_launcher:gon.hide_intercom_launcher},window.tracking.uuid=gon.analytics_config.current_visitor_uuid,window.tracking.init(gon.analytics_config.current_visitor_uuid),analytics.ready(function(){window.tracking.cookie.github_fix&&(window.tracking.log("GitHub Fix"),ga("set","referrer","http://learn.co/GitHubOAuthReturn"))}),gon&&gon.current_user&&gon.current_user.learn_uuid&&analytics.identify(gon.current_user.learn_uuid,{},{integrations:{Intercom:!1}})}},["./app/javascript/packs/analytics.js"]);
//# sourceMappingURL=analytics-2c82e888500ba04d59b6.js.map